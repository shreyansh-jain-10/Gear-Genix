<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- Prevent zoom + keyboard layout break -->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
  />

  <title>Gear Genix â€” College Equipment Booking</title>

  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg-base: #0f172a;
      --bg-sidebar: #0b1120;
      --bg-chat: #111827;
      --bg-input: #1e293b;
      --bg-user-msg: #1d4ed8;
      --bg-bot-msg: #1e293b;
      --accent: #3b82f6;
      --text-primary: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #1e293b;
      --radius: 12px;
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: var(--bg-base);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
      color: var(--text-primary);
    }

    /* â”€â”€ APP ROOT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .app {
      height: var(--app-height);
      display: flex;
      flex-direction: column;
      background: var(--bg-chat);
    }

    /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .header {
      flex-shrink: 0;
      padding: 14px 16px;
      background: var(--bg-sidebar);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dot {
      width: 8px;
      height: 8px;
      background: #22c55e;
      border-radius: 50%;
    }

    /* â”€â”€ QUICK ACTIONS (ALWAYS VISIBLE) â”€â”€â”€ */
    .quick-actions {
      flex-shrink: 0;
      display: flex;
      gap: 8px;
      padding: 10px;
      overflow-x: auto;
      background: var(--bg-chat);
      border-bottom: 1px solid var(--border);
    }

    .quick-btn {
      background: #1e293b;
      border: 1px solid var(--border);
      color: var(--text-primary);
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.8rem;
      white-space: nowrap;
      cursor: pointer;
    }

    /* â”€â”€ MESSAGES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .messages {
      flex: 1;
      min-height: 0;
      overflow-y: auto;
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .msg {
      display: flex;
      gap: 8px;
      align-items: flex-end;
    }

    .msg.user {
      flex-direction: row-reverse;
    }

    .bubble {
      max-width: 72%;
      padding: 10px 14px;
      border-radius: var(--radius);
      font-size: 0.88rem;
      line-height: 1.6;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .bot .bubble {
      background: var(--bg-bot-msg);
      border-bottom-left-radius: 4px;
    }

    .user .bubble {
      background: var(--bg-user-msg);
      color: #fff;
      border-bottom-right-radius: 4px;
    }

    /* â”€â”€ INPUT BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .input-bar {
      flex-shrink: 0;
      display: flex;
      gap: 10px;
      padding: 10px;
      background: var(--bg-sidebar);
      border-top: 1px solid var(--border);
    }

    textarea {
      flex: 1;
      resize: none;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      padding: 10px 14px;
      font-size: 16px; /* prevents iOS zoom */
      max-height: 120px;
    }

    textarea:focus {
      outline: none;
      border-color: var(--accent);
    }

    button.send {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      border: none;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>

<body>

<div class="app">
  <!-- HEADER -->
  <div class="header">
    <div class="dot"></div>
    <strong>Gear Genix</strong>
  </div>

  <!-- QUICK ACTIONS (NEVER HIDDEN) -->
  <div class="quick-actions">
    <button class="quick-btn" onclick="prefill('What equipment do you have?')">ğŸ“¦ List Equipment</button>
    <button class="quick-btn" onclick="prefill('I want to book equipment')">ğŸ“… Book</button>
    <button class="quick-btn" onclick="prefill('Show my bookings')">ğŸ“‹ My Bookings</button>
    <button class="quick-btn" onclick="prefill('I want to return equipment')">ğŸ”„ Return</button>
  </div>

  <!-- MESSAGES -->
  <div class="messages" id="messages"></div>

  <!-- INPUT -->
  <div class="input-bar">
    <textarea id="input" rows="1" placeholder="Ask me about equipment, bookings, availabilityâ€¦"></textarea>
    <button class="send" onclick="send()">â¤</button>
  </div>
</div>

<script>
  /* â”€â”€ FIX MOBILE KEYBOARD GAP â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function setAppHeight() {
    const h = window.visualViewport
      ? window.visualViewport.height
      : window.innerHeight;
    document.documentElement.style.setProperty('--app-height', h + 'px');
  }

  window.addEventListener('resize', setAppHeight);
  window.visualViewport?.addEventListener('resize', setAppHeight);
  setAppHeight();

  /* â”€â”€ CHAT LOGIC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  const messages = document.getElementById('messages');
  const input = document.getElementById('input');

  function addMessage(text, role) {
    const m = document.createElement('div');
    m.className = 'msg ' + role;
    m.innerHTML = `<div class="bubble">${text}</div>`;
    messages.appendChild(m);
    messages.scrollTop = messages.scrollHeight;
  }

  function send() {
    const text = input.value.trim();
    if (!text) return;

    addMessage(text, 'user');
    input.value = '';

    setTimeout(() => {
      addMessage('Got it ğŸ‘ How can I help next?', 'bot');
    }, 400);
  }

  function prefill(text) {
    input.value = text;
    input.focus();
  }

  /* â”€â”€ ORIGINAL WELCOME MESSAGE â”€â”€â”€â”€â”€â”€â”€â”€ */
  addMessage(
`ğŸ‘‹ Welcome to Gear Genix â€” College Equipment Booking Assistant!

I can help you:
â€¢ ğŸ“¦ Check what equipment is available
â€¢ ğŸ” Check availability for a time slot
â€¢ ğŸ“… Book equipment for your club
â€¢ ğŸ“‹ View your club's bookings
â€¢ âŒ Cancel a booking
â€¢ ğŸ”„ Return equipment

Just tell me what you need in plain English!
Example: "Is the projector free tomorrow 3â€“5pm?"`,
  'bot'
  );
</script>

</body>
</html>